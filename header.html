<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">MediCare - Your Trusted Pharmacy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#56DFCF',
                        secondary: '#0ea5e9',
                        accent: '#10b981',
                        dark: '#1e293b',
                    }
                }
            }
        }
    </script>
    <style>
        .nav-dropdown:hover .nav-dropdown-menu {
            display: block;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body[lang="hi"], body[lang="mr"] {
            font-family: 'Noto Sans Devanagari', sans-serif;
        }
        .nav-dropdown-menu {
            width: 250px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
        }
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            text-align: center;
        }
        .modal-content input, .modal-content button {
            margin: 10px;
        }
    </style>
</head>
<body class="bg-gray-50" onload="initializePage()">
    <!-- Common Header -->
    <header id="common-header">
        <!-- Top Header -->
        <div class="bg-white shadow-sm">
            <div class="container mx-auto px-4 py-3">
                <div class="flex items-center justify-between">
                    <!-- Logo with full image -->
                    <div class="flex items-center">
                        <img src="/IMG/LOGO-removebg-preview.png" alt="MediCare Pharmacy" class="h-14 object-contain">
                    </div>

                    <!-- Location Display -->
                    <div class="hidden md:flex items-center mr-auto ml-6">
                        <i class="fas fa-map-marker-alt text-gray-600 mr-2"></i>
                        <span id="locationDisplay" data-i18n="select_pincode">Select Pincode</span>
                        <button id="changeLocation" class="ml-2 text-primary hover:text-accent" data-i18n="change">Change</button>
                        <div id="deliveryInfo" class="ml-4 text-sm text-gray-600 hidden">
                            <span id="deliveryMessage"></span>
                        </div>
                    </div>

                    <!-- Right side items -->
                    <div class="flex items-center space-x-5">
                        <!-- Language Button -->
                        <div class="hidden md:block">
                            <button id="languageButton" class="flex items-center text-gray-700 hover:text-primary">
                                <i class="fas fa-globe mr-1"></i>
                                <span id="currentLanguage">EN</span>
                            </button>
                        </div>

                        <!-- Login -->
                        <a href="../login.html" class="flex items-center text-gray-700 hover:text-primary">
                            <i class="fas fa-user-circle mr-1"></i>
                            <span class="hidden md:inline" data-i18n="login">Login</span>
                        </a>

                        <!-- Wishlist -->
                        <a href="#" class="flex items-center text-gray-700 hover:text-primary">
                            <i class="fas fa-heart mr-1"></i>
                            <span class="hidden md:inline" data-i18n="wishlist">Wishlist</span>
                        </a>

                        <!-- Offers -->
                        <a href="#" class="flex items-center text-gray-700 hover:text-primary">
                            <i class="fas fa-tag mr-1"></i>
                            <span class="hidden md:inline" data-i18n="offers">Offers</span>
                        </a>

                        <!-- Cart -->
                        <a href="#" class="flex items-center text-gray-700 hover:text-primary">
                            <div class="relative">
                                <i class="fas fa-shopping-cart mr-1"></i>
                                <span class="absolute -top-2 -right-2 bg-primary text-white rounded-full w-4 h-4 flex items-center justify-center text-xs">3</span>
                            </div>
                            <span class="hidden md:inline" data-i18n="cart">Cart</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Navigation Bar -->
        <nav class="bg-white shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between py-3">
                    <!-- Desktop Menu -->
                    <div class="hidden lg:flex space-x-1 mx-auto">
                        <!-- Medicines & Healthcare -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-pills mr-2 text-primary"></i>
                                <span data-i18n="medicine_healthcare">Medicine & Healthcare</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="prescription_medicines">Prescription Medicines (Upload Prescription)</a>
                                <a href="#" class="block px-4 py-2" data-i18n="otc_medicines">Over-the-Counter (OTC) Medicines</a>
                                <a href="#" class="block px-4 py-2" data-i18n="chronic_care">Chronic Care (Diabetes, Hypertension, Cardiac, Asthma, Thyroid)</a>
                                <a href="#" class="block px-4 py-2" data-i18n="first_aid">First Aid & Emergency</a>
                                <a href="#" class="block px-4 py-2" data-i18n="pain_relief">Pain Relief & Fever</a>
                                <a href="#" class="block px-4 py-2" data-i18n="allergy_cold">Allergy & Cold Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="digestive_health">Digestive Health</a>
                            </div>
                        </div>

                        <!-- Mother Care & Maternity -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-female mr-2 text-primary"></i>
                                <span data-i18n="mother_care">Mother Care</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="maternity_wear">Maternity Wear</a>
                                <a href="#" class="block px-4 py-2" data-i18n="pregnancy_nutrition">Pregnancy Nutrition</a>
                                <a href="#" class="block px-4 py-2" data-i18n="skincare_moms">Skincare for Moms</a>
                                <a href="#" class="block px-4 py-2" data-i18n="trimester_kits">Trimester Kits</a>
                                <a href="#" class="block px-4 py-2" data-i18n="postpartum_recovery">Postpartum Recovery</a>
                                <a href="#" class="block px-4 py-2" data-i18n="breastfeeding_essentials">Breastfeeding Essentials</a>
                            </div>
                        </div>

                        <!-- Baby Care -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-baby mr-2 text-primary"></i>
                                <span data-i18n="baby_care">Baby Care</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="diapers_wipes">Diapers & Wipes</a>
                                <a href="#" class="block px-4 py-2" data-i18n="baby_skincare">Baby Skin & Hair Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="feeding_nursing">Feeding & Nursing</a>
                                <a href="#" class="block px-4 py-2" data-i18n="baby_health_safety">Baby Health & Safety</a>
                                <a href="#" class="block px-4 py-2" data-i18n="toys_learning">Toys & Learning</a>
                                <a href="#" class="block px-4 py-2" data-i18n="baby_clothing">Baby Clothing & Accessories</a>
                            </div>
                        </div>

                        <!-- Wellness & Personal Care -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-spa mr-2 text-primary"></i>
                                <span data-i18n="wellness">Wellness</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="vitamins_supplements">Vitamins & Supplements</a>
                                <a href="#" class="block px-4 py-2" data-i18n="skin_hair_care">Skin & Hair Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="oral_care">Oral Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="menstrual_care">Menstrual & Intimate Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="fitness_weight">Fitness & Weight Management</a>
                            </div>
                        </div>

                        <!-- Medical Devices & Equipment -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-thermometer-half mr-2 text-primary"></i>
                                <span data-i18n="devices">Devices</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="monitoring_devices">Monitoring Devices (BP Monitors, Glucometers)</a>
                                <a href="#" class="block px-4 py-2" data-i18n="mobility_aids">Mobility Aids (Walkers, Wheelchairs)</a>
                                <a href="#" class="block px-4 py-2" data-i18n="respiratory_care">Respiratory Care (Nebulizers, Oxygen)</a>
                            </div>
                        </div>

                        <!-- Speciality Care -->
                        <div class="nav-dropdown relative">
                            <a href="#" class="px-4 py-2 text-dark rounded-lg flex items-center">
                                <i class="fas fa-stethoscope mr-2 text-primary"></i>
                                <span data-i18n="speciality_care">Speciality Care</span>
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </a>
                            <div class="nav-dropdown-menu absolute hidden left-0 mt-1 bg-white rounded-md shadow-lg py-2 z-10">
                                <a href="#" class="block px-4 py-2" data-i18n="womens_health">Women's Health</a>
                                <a href="#" class="block px-4 py-2" data-i18n="mens_health">Men's Health</a>
                                <a href="#" class="block px-4 py-2" data-i18n="senior_care">Senior Care</a>
                                <a href="#" class="block px-4 py-2" data-i18n="immunity_boosters">Immunity Boosters</a>
                                <a href="#" class="block px-4 py-2" data-i18n="ayurveda_herbal">Ayurveda & Herbal Products</a>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile menu button -->
                    <div class="lg:hidden">
                        <button class="text-dark focus:outline-none">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Location Selection Modal -->
        <div id="locationModal" class="modal">
            <div class="modal-content">
                <h2 class="text-lg font-semibold mb-4" data-i18n="enter_pincode">Enter Your Pincode</h2>
                <input type="text" id="pincodeInput" class="border border-gray-300 py-1 px-2 rounded-lg w-full" maxlength="6">
                <div id="pincodeError" class="text-red-500 text-sm mt-2 hidden" data-i18n="invalid_pincode">Please enter a valid 6-digit Indian pincode.</div>
                <button id="validatePincode" class="bg-primary text-white px-4 py-2 rounded hover:bg-accent mt-4" data-i18n="submit">Submit</button>
            </div>
        </div>

        <!-- Language Selection Modal -->
        <div id="languageModal" class="modal">
            <div class="modal-content">
                <h2 class="text-lg font-semibold mb-4" data-i18n="select_language">Select Language</h2>
                <button onclick="selectLanguage('English')" class="bg-primary text-white px-4 py-2 rounded hover:bg-accent" data-i18n="english">English</button>
                <button onclick="selectLanguage('Hindi')" class="bg-primary text-white px-4 py-2 rounded hover:bg-accent" data-i18n="hindi">Hindi</button>
                <button onclick="selectLanguage('Marathi')" class="bg-primary text-white px-4 py-2 rounded hover:bg-accent" data-i18n="marathi">Marathi</button>
            </div>
        </div>
    </header>

    <script>
        // Translation dictionary
        const translations = {
            en: {
                title: "MediCare - Your Trusted Pharmacy",
                select_pincode: "Select Pincode",
                change: "Change",
                login: "Login",
                wishlist: "Wishlist",
                offers: "Offers",
                cart: "Cart",
                medicine_healthcare: "Medicine & Healthcare",
                prescription_medicines: "Prescription Medicines (Upload Prescription)",
                otc_medicines: "Over-the-Counter (OTC) Medicines",
                chronic_care: "Chronic Care (Diabetes, Hypertension, Cardiac, Asthma, Thyroid)",
                first_aid: "First Aid & Emergency",
                pain_relief: "Pain Relief & Fever",
                allergy_cold: "Allergy & Cold Care",
                digestive_health: "Digestive Health",
                mother_care: "Mother Care",
                maternity_wear: "Maternity Wear",
                pregnancy_nutrition: "Pregnancy Nutrition",
                skincare_moms: "Skincare for Moms",
                trimester_kits: "Trimester Kits",
                postpartum_recovery: "Postpartum Recovery",
                breastfeeding_essentials: "Breastfeeding Essentials",
                baby_care: "Baby Care",
                diapers_wipes: "Diapers & Wipes",
                baby_skincare: "Baby Skin & Hair Care",
                feeding_nursing: "Feeding & Nursing",
                baby_health_safety: "Baby Health & Safety",
                toys_learning: "Toys & Learning",
                baby_clothing: "Baby Clothing & Accessories",
                wellness: "Wellness",
                vitamins_supplements: "Vitamins & Supplements",
                skin_hair_care: "Skin & Hair Care",
                oral_care: "Oral Care",
                menstrual_care: "Menstrual & Intimate Care",
                fitness_weight: "Fitness & Weight Management",
                devices: "Devices",
                monitoring_devices: "Monitoring Devices (BP Monitors, Glucometers)",
                mobility_aids: "Mobility Aids (Walkers, Wheelchairs)",
                respiratory_care: "Respiratory Care (Nebulizers, Oxygen)",
                speciality_care: "Speciality Care",
                womens_health: "Women's Health",
                mens_health: "Men's Health",
                senior_care: "Senior Care",
                immunity_boosters: "Immunity Boosters",
                ayurveda_herbal: "Ayurveda & Herbal Products",
                enter_pincode: "Enter Your Pincode",
                invalid_pincode: "Please enter a valid 6-digit Indian pincode.",
                submit: "Submit",
                select_language: "Select Language",
                english: "English",
                hindi: "Hindi",
                marathi: "Marathi",
                delivery_available: "Delivery available to",
                estimated_delivery: "Estimated delivery in"
            },
            hi: {
                title: "मेडिकेयर - आपकी विश्वसनीय फार्मेसी",
                select_pincode: "पिनकोड चुनें",
                change: "बदलें",
                login: "लॉगिन",
                wishlist: "इच्छा सूची",
                offers: "ऑफर",
                cart: "कार्ट",
                medicine_healthcare: "दवाएँ और स्वास्थ्य देखभाल",
                prescription_medicines: "प्रिस्क्रिप्शन दवाएँ (प्रिस्क्रिप्शन अपलोड करें)",
                otc_medicines: "ओवर-द-काउंटर (OTC) दवाएँ",
                chronic_care: "क्रोनिक केयर (मधुमेह, उच्च रक्तचाप, हृदय, अस्थमा, थायरॉयड)",
                first_aid: "प्राथमिक चिकित्सा और आपातकाल",
                pain_relief: "दर्द निवारण और बुखार",
                allergy_cold: "एलर्जी और सर्दी देखभाल",
                digestive_health: "पाचन स्वास्थ्य",
                mother_care: "मातृ देखभाल",
                maternity_wear: "मातृत्व वस्त्र",
                pregnancy_nutrition: "गर्भावस्था पोषण",
                skincare_moms: "माताओं के लिए त्वचा देखभाल",
                trimester_kits: "ट्राइमेस्टर किट",
                postpartum_recovery: "प्रसवोत्तर रिकवरी",
                breastfeeding_essentials: "स्तनपान आवश्यकताएँ",
                baby_care: "शिशु देखभाल",
                diapers_wipes: "डायपर और वाइप्स",
                baby_skincare: "शिशु त्वचा और बाल देखभाल",
                feeding_nursing: "खिलाना और नर्सिंग",
                baby_health_safety: "शिशु स्वास्थ्य और सुरक्षा",
                toys_learning: "खिलौने और सीखना",
                baby_clothing: "शिशु वस्त्र और सहायक उपकरण",
                wellness: "वेलनेस",
                vitamins_supplements: "विटामिन और पूरक",
                skin_hair_care: "त्वचा और बाल देखभाल",
                oral_care: "मौखिक देखभाल",
                menstrual_care: "मासिक और अंतरंग देखभाल",
                fitness_weight: "फिटनेस और वजन प्रबंधन",
                devices: "उपकरण",
                monitoring_devices: "निगरानी उपकरण (बीपी मॉनिटर, ग्लूकोमीटर)",
                mobility_aids: "गतिशीलता सहायता (वॉकर, व्हीलचेयर)",
                respiratory_care: "श्वसन देखभाल (नेबुलाइज़र, ऑक्सीजन)",
                speciality_care: "विशेष देखभाल",
                womens_health: "महिला स्वास्थ्य",
                mens_health: "पुरुष स्वास्थ्य",
                senior_care: "वरिष्ठ देखभाल",
                immunity_boosters: "प्रतिरक्षा बढ़ाने वाले",
                ayurveda_herbal: "आयुर्वेद और हर्बल उत्पाद",
                enter_pincode: "अपना पिनकोड दर्ज करें",
                invalid_pincode: "कृपया वैध 6-अंकीय भारतीय पिनकोड दर्ज करें।",
                submit: "जमा करें",
                select_language: "भाषा चुनें",
                english: "अंग्रेजी",
                hindi: "हिंदी",
                marathi: "मराठी",
                delivery_available: "डिलीवरी उपलब्ध है",
                estimated_delivery: "में अनुमानित डिलीवरी"
            },
            mr: {
                title: "मेडिकेअर - तुमचा विश्वासू फार्मसी",
                select_pincode: "पिनकोड निवडा",
                change: "बदला",
                login: "लॉगिन",
                wishlist: "इच्छा यादी",
                offers: "ऑफर",
                cart: "कार्ट",
                medicine_healthcare: "औषधे आणि आरोग्य सेवा",
                prescription_medicines: "प्रिस्क्रिप्शन औषधे (प्रिस्क्रिप्शन अपलोड करा)",
                otc_medicines: "ओव्हर-द-काउंटर (OTC) औषधे",
                chronic_care: "क्रॉनिक केअर (मधुमेह, उच्च रक्तदाब, हृदय, दमा, थायरॉईड)",
                first_aid: "प्रथमोपचार आणि आपत्कालीन",
                pain_relief: "वेदना निवारण आणि ताप",
                allergy_cold: "ऍलर्जी आणि सर्दीची काळजी",
                digestive_health: "पचन आरोग्य",
                mother_care: "माता काळजी",
                maternity_wear: "मातृत्व परिधान",
                pregnancy_nutrition: "गर्भधारणा पोषण",
                skincare_moms: "मातांसाठी त्वचा काळजी",
                trimester_kits: "ट्रायमेस्टर किट",
                postpartum_recovery: "प्रसवोत्तर पुनर्प्राप्ती",
                breastfeeding_essentials: "स्तनपान आवश्यक गोष्टी",
                baby_care: "बाळाची काळजी",
                diapers_wipes: "डायपर आणि वाइप्स",
                baby_skincare: "बाळाची त्वचा आणि केसांची काळजी",
                feeding_nursing: "खाणे आणि नर्सिंग",
                baby_health_safety: "बाळाचे आरोग्य आणि सुरक्षा",
                toys_learning: "खेळणी आणि शिक्षण",
                baby_clothing: "बाळाचे कपडे आणि उपकरणे",
                wellness: "वेलनेस",
                vitamins_supplements: "व्हिटॅमिन आणि पूरक",
                skin_hair_care: "त्वचा आणि केसांची काळजी",
                oral_care: "तोंडी काळजी",
                menstrual_care: "मासिक आणि अंतरंग काळजी",
                fitness_weight: "फिटनेस आणि वजन व्यवस्थापन",
                devices: "उपकरणे",
                monitoring_devices: "निगरानी उपकरणे (बीपी मॉनिटर, ग्लुकोमीटर)",
                mobility_aids: "गतिशीलता सहाय्य (वॉकर, व्हीलचेयर)",
                respiratory_care: "श्वसन काळजी (नेबुलायझर, ऑक्सिजन)",
                speciality_care: "विशेष काळजी",
                womens_health: "महिलांचे आरोग्य",
                mens_health: "पुरुषांचे आरोग्य",
                senior_care: "वरिष्ठ काळजी",
                immunity_boosters: "रोगप्रतिकारक शक्ती वाढवणारे",
                ayurveda_herbal: "आयुर्वेद आणि हर्बल उत्पादने",
                enter_pincode: "तुमचा पिनकोड टाका",
                invalid_pincode: "कृपया वैध 6-अंकी भारतीय पिनकोड टाका.",
                submit: "सबमिट करा",
                select_language: "भाषा निवडा",
                english: "इंग्रजी",
                hindi: "हिंदी",
                marathi: "मराठी",
                delivery_available: "डिलीवरी उपलब्ध आहे",
                estimated_delivery: "मध्ये अंदाजे डिलीवरी"
            }
        };

        // Initialize page: Apply language and show modals
        function initializePage() {
            const savedLanguage = localStorage.getItem('language') || 'en';
            const savedPincode = localStorage.getItem('pincode');
            document.documentElement.lang = savedLanguage;
            document.getElementById('currentLanguage').textContent = savedLanguage === 'en' ? 'EN' : savedLanguage === 'hi' ? 'HI' : 'MR';
            applyLanguage(savedLanguage);
            
            // If pincode is already set, display it and delivery info
            if (savedPincode) {
                const deliveryInfo = document.getElementById('deliveryInfo');
                const deliveryMessage = document.getElementById('deliveryMessage');
                const locationDisplay = document.getElementById('locationDisplay');
                locationDisplay.textContent = `${translations[savedLanguage]['select_pincode']}: ${savedPincode}`;
                const estimatedDays = savedPincode.startsWith('1') || savedPincode.startsWith('2') ? '2-3 days' : '3-5 days';
                deliveryInfo.classList.remove('hidden');
                deliveryMessage.textContent = `${translations[savedLanguage]['delivery_available']} ${savedPincode}. ${translations[savedLanguage]['estimated_delivery']} ${estimatedDays}.`;
                deliveryMessage.classList.add('text-green-600');
                if (!savedLanguage) {
                    showLanguageModal();
                }
            } else {
                showLocationModal();
            }
        }

        // Apply language to all elements with data-i18n
        function applyLanguage(lang) {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            // Update document title
            const titleElement = document.querySelector('title');
            const titleKey = titleElement.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][titleKey]) {
                titleElement.textContent = translations[lang][titleKey];
            }
            // Update placeholder for pincode input
            const pincodeInput = document.getElementById('pincodeInput');
            pincodeInput.placeholder = translations[lang]['enter_pincode'] || 'Enter Indian Pincode';
        }

        // Show location modal
        function showLocationModal() {
            const locationModal = document.getElementById('locationModal');
            locationModal.style.display = 'block';
        }

        // Show language modal
        function showLanguageModal() {
            const languageModal = document.getElementById('languageModal');
            languageModal.style.display = 'block';
        }

        // Handle language selection
        function selectLanguage(language) {
            const langCode = language === 'English' ? 'en' : language === 'Hindi' ? 'hi' : 'mr';
            localStorage.setItem('language', langCode);
            document.documentElement.lang = langCode;
            document.getElementById('currentLanguage').textContent = langCode.toUpperCase();
            applyLanguage(langCode);
            document.getElementById('languageModal').style.display = 'none';
        }

        // Reopen modals on button clicks
        document.getElementById('changeLocation').addEventListener('click', showLocationModal);
        document.getElementById('languageButton').addEventListener('click', showLanguageModal);

        // Pincode validation and estimated delivery time
        document.getElementById('validatePincode').addEventListener('click', function() {
            const pincodeInput = document.getElementById('pincodeInput').value.trim();
            const pincodeError = document.getElementById('pincodeError');
            const locationModal = document.getElementById('locationModal');
            const deliveryInfo = document.getElementById('deliveryInfo');
            const deliveryMessage = document.getElementById('deliveryMessage');
            const locationDisplay = document.getElementById('locationDisplay');
            const currentLang = localStorage.getItem('language') || 'en';

            // Regular expression for Indian pincode (6 digits, starting with 1-9)
            const pincodePattern = /^[1-9][0-9]{5}$/;

            if (!pincodeInput) {
                pincodeError.textContent = translations[currentLang]['invalid_pincode'];
                pincodeError.classList.remove('hidden');
            } else if (pincodePattern.test(pincodeInput)) {
                pincodeError.classList.add('hidden');
                localStorage.setItem('pincode', pincodeInput);
                locationModal.style.display = 'none';
                locationDisplay.textContent = `${translations[currentLang]['select_pincode']}: ${pincodeInput}`;
                const estimatedDays = pincodeInput.startsWith('1') || pincodeInput.startsWith('2') ? '2-3 days' : '3-5 days';
                deliveryInfo.classList.remove('hidden');
                deliveryMessage.textContent = `${translations[currentLang]['delivery_available']} ${pincodeInput}. ${translations[currentLang]['estimated_delivery']} ${estimatedDays}.`;
                deliveryMessage.classList.remove('text-red-500');
                deliveryMessage.classList.add('text-green-600');
                // Show language modal if no language is set
                if (!localStorage.getItem('language')) {
                    showLanguageModal();
                }
            } else {
                pincodeError.textContent = translations[currentLang]['invalid_pincode'];
                pincodeError.classList.remove('hidden');
            }
        });

        // Trigger validation on Enter key
        document.getElementById('pincodeInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('validatePincode').click();
            }
        });
    </script>
</body>
</html>